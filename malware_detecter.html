<!-- Malware AI Overlay -->
<div id="malwareOverlay" style="
  position:fixed;
  top:0;left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.95);
  color:#f00;
  display:none;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  font-family:monospace;
  z-index:9999;
  text-align:center;
  padding:20px;
">
  <h1>‚ö†Ô∏è MALWARE DETECTED ‚ö†Ô∏è</h1>
  <p id="malwareText">MAL-9000: Beginning trace on your IP...</p>
  <input id="malwareInput" placeholder="Enter command to counter..." style="
    margin-top:20px;
    font-size:1.2em;
    background:black;
    color:#f00;
    border:2px solid #f00;
    padding:10px;
    width:300px;
    text-align:center;
  "/>
  <div id="malwareStatus" style="margin-top:10px;"></div>
</div>

<script>
  let malwareTime = 20;
  let malwareActive = false;

  function launchMalwareAttack() {
    malwareActive = true;
    document.getElementById("malwareOverlay").style.display = "flex";
    document.getElementById("malwareText").textContent = "MAL-9000: I have breached your vault firewall. Counter-me before system wipe.";

    const interval = setInterval(() => {
      if (!malwareActive) return clearInterval(interval);
      malwareTime--;
      document.getElementById("malwareText").textContent = `MAL-9000: System breach in ${malwareTime}s...`;

      if (malwareTime <= 0) {
        document.getElementById("malwareText").textContent = "üí• SYSTEM OVERRUN. DATA ERASED.";
        document.getElementById("malwareStatus").innerHTML = "<b>‚ùå MISSION FAILED</b>";
        document.getElementById("malwareInput").disabled = true;
        malwareActive = false;
      }
    }, 1000);
  }

  document.getElementById("malwareInput").addEventListener("keydown", function(e) {
    if (e.key === "Enter") {
      const input = this.value.trim();
      if (input.toLowerCase() === "killmalware") {
        malwareActive = false;
        document.getElementById("malwareOverlay").style.display = "none";
        logTerminal("üõ° Malware defeated. System secure.");
      } else {
        document.getElementById("malwareStatus").innerText = "Invalid command!";
      }
    }
  });

  // Trigger malware attack after delay
  setTimeout(launchMalwareAttack, 10000); // 10s after dashboard opens
</script>
